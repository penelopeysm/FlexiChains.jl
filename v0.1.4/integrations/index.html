<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Integrations with other packages · FlexiChains.jl</title><meta name="title" content="Integrations with other packages · FlexiChains.jl"/><meta property="og:title" content="Integrations with other packages · FlexiChains.jl"/><meta property="twitter:title" content="Integrations with other packages · FlexiChains.jl"/><meta name="description" content="Documentation for FlexiChains.jl."/><meta property="og:description" content="Documentation for FlexiChains.jl."/><meta property="twitter:description" content="Documentation for FlexiChains.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">FlexiChains.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../turing/">Usage with Turing.jl</a></li><li><a class="tocitem" href="../summarising/">Summarising</a></li><li><a class="tocitem" href="../indexing/">Indexing</a></li><li><a class="tocitem" href="../plotting/">Plotting</a></li><li><a class="tocitem" href="../plots/">Plotting: Plots.jl</a></li><li><a class="tocitem" href="../makie/">Plotting: Makie.jl</a></li><li class="is-active"><a class="tocitem" href>Integrations with other packages</a><ul class="internal"><li><a class="tocitem" href="#DimensionalDistributions.jl"><span>DimensionalDistributions.jl</span></a></li><li><a class="tocitem" href="#PosteriorDB.jl"><span>PosteriorDB.jl</span></a></li><li><a class="tocitem" href="#PosteriorStats.jl"><span>PosteriorStats.jl</span></a></li><li><a class="tocitem" href="#Serialization.jl"><span>Serialization.jl</span></a></li></ul></li><li><a class="tocitem" href="../api/">Public API</a></li><li><a class="tocitem" href="../why/">Why FlexiChains?</a></li><li><a class="tocitem" href="../whynot/">Why not FlexiChains?</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Integrations with other packages</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Integrations with other packages</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/penelopeysm/FlexiChains.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/penelopeysm/FlexiChains.jl/blob/main/docs/src/integrations.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Integrations-with-other-packages"><a class="docs-heading-anchor" href="#Integrations-with-other-packages">Integrations with other packages</a><a id="Integrations-with-other-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Integrations-with-other-packages" title="Permalink"></a></h1><p>FlexiChains is most obviously tied to the Turing.jl ecosystem, as described on the previous pages. However, it also contains some useful links to other packages (listed here in alphabetical order).</p><h2 id="DimensionalDistributions.jl"><a class="docs-heading-anchor" href="#DimensionalDistributions.jl">DimensionalDistributions.jl</a><a id="DimensionalDistributions.jl-1"></a><a class="docs-heading-anchor-permalink" href="#DimensionalDistributions.jl" title="Permalink"></a></h2><p><a href="https://github.com/sethaxen/DimensionalDistributions.jl">Documentation for DimensionalDistributions.jl</a></p><div class="admonition is-info" id="Note-53cfbcdfc5bfe37b"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-53cfbcdfc5bfe37b" title="Permalink"></a></header><div class="admonition-body"><p>DimensionalDistributions.jl is not yet registered in the Julia package registry; at present you will need to install it from GitHub using <code>]add https://github.com/sethaxen/DimensionalDistributions.jl</code>.</p></div></div><p>In the quickstart guide we saw that FlexiChains, by default, stores vector-valued parameters together. For example, <code>chn[@varname(x)]</code> here returns a <code>DimArray</code> of <code>Vector</code>s:</p><pre><code class="language-julia hljs">using FlexiChains, Turing

@model f() = x ~ MvNormal(zeros(3), I)
chn = sample(f(), MH(), MCMCThreads(), 5, 2; chain_type=VNChain, progress=false)

chn[@varname(x)]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr90">┌ </span><span class="sgr38_5" style="color:#ff875f">5</span>×<span class="sgr38_5" style="color:#0087d7">2</span> DimArray{Vector{Float64}, 2}<span class="sgr90"> ┐</span>
<span class="sgr90">├──────────────────────────────────┴────────────────── dims ┐</span>
  <span class="sgr38_5" style="color:#ff875f">↓ iter</span> Sampled{Int64} <span class="sgr38_5" style="color:#ff875f">1:5</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>,
  <span class="sgr38_5" style="color:#0087d7">→ chain</span> Sampled{Int64} <span class="sgr38_5" style="color:#0087d7">1:2</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>
<span class="sgr90">└───────────────────────────────────────────────────────────┘</span>
 <span class="sgr38_5" style="color:#ff875f">↓</span> <span class="sgr38_5" style="color:#0087d7">→</span>  <span class="sgr38_5" style="color:#0087d7">1</span>                                  <span class="sgr38_5" style="color:#0087d7">2</span>
 <span class="sgr38_5" style="color:#ff875f">1</span>     [-0.516753, 1.27822, -0.830958]    [1.00304, -0.445333, -0.0437524]
 <span class="sgr38_5" style="color:#ff875f">2</span>     [-0.796785, 0.581465, -1.47087]    [0.693408, 1.12452, 1.37322]
 <span class="sgr38_5" style="color:#ff875f">3</span>     [0.796027, -1.50843, -0.0175637]   [0.91151, -0.202309, -0.1262]
 <span class="sgr38_5" style="color:#ff875f">4</span>     [-0.205229, 0.0193515, 1.42215]    [-0.353691, -1.35735, 1.46149]
 <span class="sgr38_5" style="color:#ff875f">5</span>     [-1.78925, -0.869364, -1.15487]    [0.262484, -0.721767, 1.03388]</code></pre><p>One might like to stack these vectors together, such that <code>chn[@varname(x)]</code> returns a three-dimensional <code>DimArray</code> instead. You can do this manually, for example:</p><pre><code class="language-julia hljs">using DimensionalData
school_dim = Dim{:school}([:a, :b, :c])
permutedims(stack(map(v -&gt; DimVector(v, school_dim), chn[@varname(x)])), (2, 3, 1))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr90">┌ </span><span class="sgr38_5" style="color:#ff875f">5</span>×<span class="sgr38_5" style="color:#0087d7">2</span>×<span class="sgr38_5" style="color:#5fd7ff">3</span> DimArray{Float64, 3}<span class="sgr90"> ┐</span>
<span class="sgr90">├────────────────────────────┴──────────────────────── dims ┐</span>
  <span class="sgr38_5" style="color:#ff875f">↓ iter</span> Sampled{Int64} <span class="sgr38_5" style="color:#ff875f">1:5</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>,
  <span class="sgr38_5" style="color:#0087d7">→ chain</span> Sampled{Int64} <span class="sgr38_5" style="color:#0087d7">1:2</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>,
  <span class="sgr38_5" style="color:#5fd7ff">↗ school</span> Categorical{Symbol} <span class="sgr38_5" style="color:#5fd7ff">[:a, …, :c]</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span>
<span class="sgr90">└───────────────────────────────────────────────────────────┘</span>
[<span class="sgr38_5" style="color:#ff875f">:</span>, <span class="sgr38_5" style="color:#0087d7">:</span>, <span class="sgr38_5" style="color:#5fd7ff">1</span>]
 <span class="sgr38_5" style="color:#ff875f">↓</span> <span class="sgr38_5" style="color:#0087d7">→</span>   <span class="sgr38_5" style="color:#0087d7">1</span>          <span class="sgr38_5" style="color:#0087d7">2</span>
 <span class="sgr38_5" style="color:#ff875f">1</span>    -0.516753   1.00304
 <span class="sgr38_5" style="color:#ff875f">2</span>    -0.796785   0.693408
 <span class="sgr38_5" style="color:#ff875f">3</span>     0.796027   0.91151
 <span class="sgr38_5" style="color:#ff875f">4</span>    -0.205229  -0.353691
 <span class="sgr38_5" style="color:#ff875f">5</span>    -1.78925    0.262484</code></pre><p>This is of course a bit tedious. Unfortunately, there is not much that FlexiChains can do because <code>MvNormal()</code> itself returns plain <code>Vector</code>s that do not carry any dimensional information.</p><p>But, if you can use the <code>withdims</code> wrapper from DimensionalDistributions.jl, you will get a distribution that returns <code>DimVector</code>s:</p><pre><code class="language-julia hljs">using DimensionalDistributions
dim_mvnormal = withdims(MvNormal(zeros(3), I), school_dim)
rand(dim_mvnormal)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr90">┌ </span><span class="sgr38_5" style="color:#ff875f">3-element </span>DimArray{Float64, 1}<span class="sgr90"> ┐</span>
<span class="sgr90">├────────────────────────────────┴──────────────────── dims ┐</span>
  <span class="sgr38_5" style="color:#ff875f">↓ school</span> Categorical{Symbol} <span class="sgr38_5" style="color:#ff875f">[:a, …, :c]</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span>
<span class="sgr90">└───────────────────────────────────────────────────────────┘</span>
 <span class="sgr38_5" style="color:#ff875f">:a</span>  -0.655088
 <span class="sgr38_5" style="color:#ff875f">:b</span>   0.967287
 <span class="sgr38_5" style="color:#ff875f">:c</span>   2.14807</code></pre><p>And if you use this in a Turing model, then this information will be carried through all the way to FlexiChains, and indexing into this parameter will automatically give you a stacked <code>DimArray</code>:</p><pre><code class="language-julia hljs">@model f2() = x ~ dim_mvnormal
chn2 = sample(f2(), MH(), MCMCThreads(), 5, 2; chain_type=VNChain, progress=false)
chn2[@varname(x)]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr90">┌ </span><span class="sgr38_5" style="color:#ff875f">5</span>×<span class="sgr38_5" style="color:#0087d7">2</span>×<span class="sgr38_5" style="color:#5fd7ff">3</span> DimArray{Float64, 3}<span class="sgr90"> ┐</span>
<span class="sgr90">├────────────────────────────┴──────────────────────── dims ┐</span>
  <span class="sgr38_5" style="color:#ff875f">↓ iter</span> Sampled{Int64} <span class="sgr38_5" style="color:#ff875f">1:5</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>,
  <span class="sgr38_5" style="color:#0087d7">→ chain</span> Sampled{Int64} <span class="sgr38_5" style="color:#0087d7">1:2</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>,
  <span class="sgr38_5" style="color:#5fd7ff">↗ school</span> Categorical{Symbol} <span class="sgr38_5" style="color:#5fd7ff">[:a, …, :c]</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span>
<span class="sgr90">└───────────────────────────────────────────────────────────┘</span>
[<span class="sgr38_5" style="color:#ff875f">:</span>, <span class="sgr38_5" style="color:#0087d7">:</span>, <span class="sgr38_5" style="color:#5fd7ff">1</span>]
 <span class="sgr38_5" style="color:#ff875f">↓</span> <span class="sgr38_5" style="color:#0087d7">→</span>   <span class="sgr38_5" style="color:#0087d7">1</span>          <span class="sgr38_5" style="color:#0087d7">2</span>
 <span class="sgr38_5" style="color:#ff875f">1</span>     0.605523  -0.200398
 <span class="sgr38_5" style="color:#ff875f">2</span>    -0.848152  -0.0655786
 <span class="sgr38_5" style="color:#ff875f">3</span>     1.38628   -1.02123
 <span class="sgr38_5" style="color:#ff875f">4</span>    -1.28123   -0.6059
 <span class="sgr38_5" style="color:#ff875f">5</span>    -0.610592  -0.192778</code></pre><p>Sub-VarName indexing also works, although you can&#39;t use DimensionalData selectors inside a VarName, so only one-based indexing:</p><pre><code class="language-julia hljs">chn2[@varname(x[1])]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr90">┌ </span><span class="sgr38_5" style="color:#ff875f">5</span>×<span class="sgr38_5" style="color:#0087d7">2</span> DimArray{Float64, 2}<span class="sgr90"> ┐</span>
<span class="sgr90">├──────────────────────────┴────────────────────────── dims ┐</span>
  <span class="sgr38_5" style="color:#ff875f">↓ iter</span> Sampled{Int64} <span class="sgr38_5" style="color:#ff875f">1:5</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>,
  <span class="sgr38_5" style="color:#0087d7">→ chain</span> Sampled{Int64} <span class="sgr38_5" style="color:#0087d7">1:2</span> <span class="sgr38_5" style="color:#808080">ForwardOrdered</span> <span class="sgr38_5" style="color:#808080">Regular</span> <span class="sgr38_5" style="color:#808080">Points</span>
<span class="sgr90">└───────────────────────────────────────────────────────────┘</span>
 <span class="sgr38_5" style="color:#ff875f">↓</span> <span class="sgr38_5" style="color:#0087d7">→</span>   <span class="sgr38_5" style="color:#0087d7">1</span>          <span class="sgr38_5" style="color:#0087d7">2</span>
 <span class="sgr38_5" style="color:#ff875f">1</span>     0.605523  -0.200398
 <span class="sgr38_5" style="color:#ff875f">2</span>    -0.848152  -0.0655786
 <span class="sgr38_5" style="color:#ff875f">3</span>     1.38628   -1.02123
 <span class="sgr38_5" style="color:#ff875f">4</span>    -1.28123   -0.6059
 <span class="sgr38_5" style="color:#ff875f">5</span>    -0.610592  -0.192778</code></pre><h2 id="PosteriorDB.jl"><a class="docs-heading-anchor" href="#PosteriorDB.jl">PosteriorDB.jl</a><a id="PosteriorDB.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PosteriorDB.jl" title="Permalink"></a></h2><p><a href="https://sethaxen.github.io/PosteriorDB.jl/stable/">Documentation for PosteriorDB.jl</a></p><p>If you have loaded a <code>PosteriorDB.ReferencePosterior</code>, you can transform it into a <code>FlexiChain</code> using <a href="#FlexiChains.from_posteriordb_ref"><code>FlexiChains.from_posteriordb_ref</code></a>:</p><pre><code class="language-julia hljs">using PosteriorDB, FlexiChains

pdb = PosteriorDB.database()
post = PosteriorDB.posterior(pdb, &quot;eight_schools-eight_schools_centered&quot;)
ref = PosteriorDB.reference_posterior(post)

chn = FlexiChains.from_posteriordb_ref(ref)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">FlexiChain (1000 iterations, 10 chains)</span>
<span class="sgr38_5" style="color:#ff875f">↓ iter=10010:10:20000</span> | <span class="sgr38_5" style="color:#0087d7">→ chain=1:10</span>

<span class="sgr1">Parameter type   </span>String
<span class="sgr1">Parameters       </span>theta[1], theta[2], theta[3], theta[4], theta[5], theta[6], theta[7], theta[8], mu, tau
<span class="sgr1">Extra keys       </span>(none)
</code></pre><p>You can then use all the functionality of FlexiChains on <code>chn</code>:</p><pre><code class="language-julia hljs">summarystats(chn)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">FlexiSummary (9 statistics)</span>
<span class="sgr38_5" style="color:#ff875f">↓ stat=[mean, std, mcse, ess_bulk, ess_tail, rhat, q5, q50, q95]</span>

<span class="sgr1">Parameter type   </span>String
<span class="sgr1">Parameters       </span>theta[1], theta[2], theta[3], theta[4], theta[5], theta[6], theta[7], theta[8], mu, tau
<span class="sgr1">Extra keys       </span>(none)

<span class="sgr1">     param    mean     std    mcse    ess_bulk    ess_tail    rhat       q5     q50      q95</span>
<span class="sgr1">  theta[1]</span>  6.1505  5.6159  0.0559  10049.2107   9629.8020  0.9999  -1.6807  5.5890  16.3294
<span class="sgr1">  theta[2]</span>  4.9396  4.6456  0.0464   9996.0196  10089.3722  1.0001  -2.2180  4.7729  12.8168
<span class="sgr1">  theta[3]</span>  3.9059  5.2807  0.0545   9441.0149   8985.2446  1.0000  -4.9143  4.1054  11.8445
<span class="sgr1">  theta[4]</span>  4.7960  4.7709  0.0476   9991.7265   9631.6656  1.0001  -2.6703  4.6953  12.6390
<span class="sgr1">  theta[5]</span>  3.6144  4.6147  0.0462   9886.2569  10175.6473  1.0000  -4.2647  3.8204  10.6027
<span class="sgr1">  theta[6]</span>  4.0511  4.7962  0.0486   9746.7818  10004.1962  0.9999  -3.8652  4.1618  11.5161
<span class="sgr1">  theta[7]</span>  6.3172  5.0029  0.0500  10007.4700   9549.1189  0.9999  -0.8547  5.7950  15.3054
<span class="sgr1">  theta[8]</span>  4.8840  5.3177  0.0544   9569.4428   9828.3536  1.0003  -3.3172  4.7853  13.5496
<span class="sgr1">        mu</span>  4.4105  3.3093  0.0331   9994.5870   9919.6914  1.0000  -0.9362  4.3639   9.8321
<span class="sgr1">       tau</span>  3.6021  3.1985  0.0320   9954.0515   9873.9898  1.0002   0.2567  2.7470   9.7322</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FlexiChains.from_posteriordb_ref" href="#FlexiChains.from_posteriordb_ref"><code>FlexiChains.from_posteriordb_ref</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FlexiChains.from_posteriordb_ref(
    ref::PosteriorDB.ReferencePosterior
)::FlexiChain{String}</code></pre><p>Load a <code>PosteriorDB.ReferencePosterior</code> into a <code>FlexiChain</code>. The keys are stored as strings, which matches the storage format in PosteriorDB.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/penelopeysm/FlexiChains.jl/blob/52283e2c511f8b61378553e8e81e60dfdf6b3478/ext/FlexiChainsPosteriorDBExt.jl#L7-L14">source</a></section></article><h2 id="PosteriorStats.jl"><a class="docs-heading-anchor" href="#PosteriorStats.jl">PosteriorStats.jl</a><a id="PosteriorStats.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PosteriorStats.jl" title="Permalink"></a></h2><p><a href="https://julia.arviz.org/PosteriorStats/stable/">Documentation for PosteriorStats.jl</a></p><p>PosteriorStats.jl provides the <code>hdi</code> and <code>eti</code> functions for computing highest density intervals and equal-tailed intervals, respectively. These are overloaded for <code>FlexiChain</code> objects in much the same way as <code>Statistics.mean</code>, <code>Statistics.std</code>, etc. (see <a href="../summarising/#Individual-statistics">the Summarising page</a> for more information).</p><p>Note however that you will need to import PosteriorStats.jl explicitly to use these functions (as they are implemented in an extension rather than the main package).</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosteriorStats.hdi-Tuple{FlexiChains.FlexiChain}" href="#PosteriorStats.hdi-Tuple{FlexiChains.FlexiChain}"><code>PosteriorStats.hdi</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PosteriorStats.hdi(
    chain::FlexiChain{TKey};
    dims::Symbol=:both,
    warn::Bool=true,
    split_varnames::Bool=(TKey&lt;:VarName),
    kwargs...
) where {TKey}</code></pre><p>Calculate the highest density interval across all iterations and chains for each key in the <code>chain</code>. If the statistic cannot be computed for a key, that key is skipped and a warning is issued (which can be suppressed by setting <code>warn=false</code>).</p><p>The <code>dims</code> keyword argument specifies which dimensions to collapse. The default value of <code>:both</code> collapses both the iteration and chain dimensions. Other valid values are <code>:iter</code> or <code>:chain</code>, which respectively collapse only the iteration or chain dimension.</p><p>The <code>split_varnames</code> keyword argument, if <code>true</code>, will first split up <code>VarName</code>s in the chain such that each <code>VarName</code> corresponds to a single scalar value. This is only supported for chains with <code>TKey&lt;:VarName</code>.</p><p>Other keyword arguments are forwarded to <a href="https://julia.arviz.org/PosteriorStats/stable/api/#PosteriorStats.hdi"><code>PosteriorStats.hdi</code></a>; please see its documentation for details of supported keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/penelopeysm/FlexiChains.jl/blob/52283e2c511f8b61378553e8e81e60dfdf6b3478/ext/FlexiChainsPosteriorStatsExt.jl#L6-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosteriorStats.eti-Tuple{FlexiChains.FlexiChain}" href="#PosteriorStats.eti-Tuple{FlexiChains.FlexiChain}"><code>PosteriorStats.eti</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PosteriorStats.eti(
    chain::FlexiChain{TKey};
    dims::Symbol=:both,
    warn::Bool=true,
    split_varnames::Bool=(TKey&lt;:VarName),
    kwargs...
) where {TKey}</code></pre><p>Calculate the equal-tailed interval across all iterations and chains for each key in the <code>chain</code>. If the statistic cannot be computed for a key, that key is skipped and a warning is issued (which can be suppressed by setting <code>warn=false</code>).</p><p>The <code>dims</code> keyword argument specifies which dimensions to collapse. The default value of <code>:both</code> collapses both the iteration and chain dimensions. Other valid values are <code>:iter</code> or <code>:chain</code>, which respectively collapse only the iteration or chain dimension.</p><p>The <code>split_varnames</code> keyword argument, if <code>true</code>, will first split up <code>VarName</code>s in the chain such that each <code>VarName</code> corresponds to a single scalar value. This is only supported for chains with <code>TKey&lt;:VarName</code>.</p><p>Other keyword arguments are forwarded to <a href="https://julia.arviz.org/PosteriorStats/stable/api/#PosteriorStats.eti"><code>PosteriorStats.eti</code></a>; please see its documentation for details of supported keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/penelopeysm/FlexiChains.jl/blob/52283e2c511f8b61378553e8e81e60dfdf6b3478/ext/FlexiChainsPosteriorStatsExt.jl#L11-L35">source</a></section></article><h2 id="Serialization.jl"><a class="docs-heading-anchor" href="#Serialization.jl">Serialization.jl</a><a id="Serialization.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Serialization.jl" title="Permalink"></a></h2><p>Calling this an &#39;integration&#39; is a bit of a stretch, because it simply works out of the box (no extra code needed), but it had to be documented somewhere...</p><p>You can serialise and deserialise <code>FlexiChain</code> and <code>FlexiSummary</code> objects using the <a href="https://docs.julialang.org/en/v1/stdlib/Serialization/#Serialization">Serialization.jl standard library</a>.</p><pre><code class="language-julia hljs">using FlexiChains, Turing, Serialization

@model f() = x ~ Normal()
chn = sample(f(), NUTS(), 100; chain_type=VNChain, progress=false)
fname = &quot;mychain&quot;
serialize(fname, chn)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌ Info: Found initial step size
└   ϵ = 3.2</code></pre><pre><code class="language-julia hljs">chn2 = deserialize(fname)
isequal(chn, chn2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>Note two things:</p><ol><li><p>If the serialisation and deserialisation steps are performed in different Julia sessions, you need to make sure that you have all necessary packages loaded in the second session. In particular, if you use <code>save_state=true</code>, then you should load Turing.jl before deserialising, because Turing provides the sampler state types.</p></li><li><p>If you are testing the integrity of (de)serialisation, you may find that <code>isequal()</code> on sampler state types may not return <code>true</code> even when the sampler states are the same. This is because Julia&#39;s default definition of equality for structs is based on object identity, not on field values. For example, the following returns <code>false</code> because <code>[1] !== [1]</code>.</p><pre><code class="language-julia hljs">struct Foo{T}
    t::T
end

Foo([1]) == Foo([1])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre></li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../makie/">« Plotting: Makie.jl</a><a class="docs-footer-nextpage" href="../api/">Public API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Sunday 26 October 2025 22:57">Sunday 26 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
